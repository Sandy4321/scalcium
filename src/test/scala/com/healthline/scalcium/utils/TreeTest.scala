package com.healthline.scalcium.utils

import org.junit.Test

class TreeTest {
  
  val tokenizer = Tokenizer.getTokenizer("opennlp")
  
  @Test def testTreeTokenize(): Unit = {
    val text = """
      Typically, randomization software should allow users to exert control over the different aspects of randomization including block design, provision of unique identifiers and control over the format and type of program output. While some of these characteristics have been addressed by available software, none of them have all of these capabilities integrated into one package. The main objective of the Random Allocation Software project was to enhance the user's control over different aspects of randomization in parallel group trials, including output type and format, structure and ordering of generated unique identifiers and enabling users to specify group names for more than two groups.

      The program has different settings for: simple and blocked randomizations; length, format and ordering of generated unique identifiers; type and format of program output; and saving sessions for future use. A formatted random list generated by this program can be used directly (without further formatting) by the coordinator of the research team to prepare and encode different drugs or instruments necessary for the parallel group trial.

      Random Allocation Software enables users to control different attributes of the random allocation sequence and produce qualified lists for parallel group trials.
    """
    val x = new Tree("ROOT", tokenizer.paraTokenize(text).map(para =>
      new Tree(para, tokenizer.sentTokenize(para).map(sentence =>
        new Tree(sentence, tokenizer.phraseTokenize(sentence).map(phrase => 
          new Tree(phrase, tokenizer.wordTokenize(phrase).map(word =>
            new Tree(word, null)))))))))
    Console.println("tree=" + x)
  }
}